{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{useState,useEffect}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import FlatList from\"react-native-web/dist/exports/FlatList\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import{Text,Icon,Card,Avatar,TabView,Tab,Layout,Button}from'@ui-kitten/components';import{TextStyleProps}from'@ui-kitten/components/ui/support/typings';var formatDate=function formatDate(unix){var date=new Date(unix*1000);var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];var year=date.getFullYear();var month=months[date.getMonth()];var day=date.getDate();return month+' '+day+', '+year;};var CardHeaderText=function CardHeaderText(){return React.createElement(React.Fragment,null,React.createElement(Text,{style:styles.cardHeaderText,category:\"h5\"},\"Billing Info\"));};var loadOrder=function loadOrder(){var result;return _regeneratorRuntime.async(function loadOrder$(_context){while(1){switch(_context.prev=_context.next){case 0:result=new Promise(function(resolve,reject){setTimeout(function(){resolve(require(\"../api-data/order.json\"));},800);});_context.next=3;return _regeneratorRuntime.awrap(result);case 3:return _context.abrupt(\"return\",_context.sent);case 4:case\"end\":return _context.stop();}}});};var loadOrderItem=function loadOrderItem(){var result;return _regeneratorRuntime.async(function loadOrderItem$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:result=new Promise(function(resolve,reject){setTimeout(function(){resolve(require(\"../api-data/order_item.json\"));},800);});_context2.next=3;return _regeneratorRuntime.awrap(result);case 3:return _context2.abrupt(\"return\",_context2.sent);case 4:case\"end\":return _context2.stop();}}});};var OrderItem=function OrderItem(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),orderItem=_useState2[0],setOrderItem=_useState2[1];useEffect(function(){loadOrderItem().then(function(resp){var list=[];for(var i in resp.data){var item=resp.data[i];if(item.order_id===props.data._id){list.push(resp.data[item]);}}if(list.length>0){setOrderItem(list);}});return function(){};},[]);return React.createElement(View,{style:styles.orderList},React.createElement(View,{style:{paddingVertical:20}},React.createElement(Text,{style:{marginBottom:10}},React.createElement(Text,{style:props.data.tag==='pending'?styles.well:styles.wellComplete},props.data.tag)),React.createElement(Text,{style:{marginBottom:5},category:\"h6\"},'Order #'+props.data.ref),React.createElement(Text,{category:\"h6\",style:{opacity:.4}},orderItem?orderItem.length:0,\" Items \\xB7 \",formatDate(props.data.created))),React.createElement(View,{style:{alignSelf:\"center\"}},React.createElement(Text,{category:\"h5\"},'₦'+props.data.amount.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g,'$&,'))));};var Orders=function Orders(props){return React.createElement(React.Fragment,null,props.data?React.createElement(FlatList,{data:props.data,renderItem:function renderItem(_ref){var item=_ref.item;return React.createElement(OrderItem,{data:item});},keyExtractor:function keyExtractor(item){return item._id;}}):React.createElement(ActivityIndicator,{size:\"large\",style:{paddingVertical:15}}));};var WeeklyOrders=function WeeklyOrders(props){return React.createElement(React.Fragment,null,props.data?React.createElement(Text,{category:\"h3\"},\"Weekly Order\"):React.createElement(ActivityIndicator,{size:\"large\",style:{paddingVertical:15}}));};var InCart=function InCart(props){return React.createElement(React.Fragment,null,props.data?React.createElement(Text,{category:\"h3\"},\"Weekly Order\"):React.createElement(ActivityIndicator,{size:\"large\",style:{paddingVertical:15}}));};var OrderSummary=function OrderSummary(props){var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),tab=_useState4[0],setTab=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),orders=_useState6[0],setOrders=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),weeklyOrder=_useState8[0],setWeeklyOrder=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),cart=_useState10[0],setCart=_useState10[1];var SelectedTab=function SelectedTab(){switch(tab){case 1:return React.createElement(WeeklyOrders,{data:weeklyOrder});break;case 2:return React.createElement(InCart,{data:cart});break;default:return React.createElement(Orders,{data:orders});break;}};useEffect(function(){loadOrder().then(function(resp){return setOrders(resp.data.data);});return function(){};},[]);return React.createElement(React.Fragment,null,React.createElement(Card,_extends({},TextStyleProps,{style:styles.card}),React.createElement(View,null,React.createElement(CardHeaderText,null)),React.createElement(View,{style:styles.navbar},React.createElement(Text,{style:tab==0?styles.navTabBtnActive:styles.navTabBtn,onPress:function onPress(){return setTab(0);}},React.createElement(Text,null,\"Orders\"),React.createElement(Text,{style:styles.tabCounter},2)),React.createElement(Text,{style:tab==1?styles.navTabBtnActive:styles.navTabBtn,onPress:function onPress(){return setTab(1);}},React.createElement(Text,null,\"Weekly Order\"),React.createElement(Text,{style:styles.tabCounter},3)),React.createElement(Text,{style:tab==2?styles.navTabBtnActive:styles.navTabBtn,onPress:function onPress(){return setTab(2);}},\"In Cart\")),React.createElement(View,null,React.createElement(SelectedTab,null))));};export default OrderSummary;var styles=StyleSheet.create({card:{marginTop:30,paddingHorizontal:0},cardHeaderText:{paddingBottom:10},navbar:{flex:'flex',flexDirection:'row',justifyContent:'space-evenly',borderBottomColor:'#C4CAD0',borderBottomWidth:1,marginBottom:10},navTabBtn:{paddingHorizontal:10,paddingVertical:15,borderBottomColor:'transparent',borderBottomWidth:3},navTabBtnActive:{paddingHorizontal:10,paddingVertical:15,borderBottomColor:'#3B54EC',borderBottomWidth:3},tabCounter:{backgroundColor:'#EE3939',paddingHorizontal:4,paddingVertical:2,borderRadius:4,marginLeft:2,color:'#fff'},tabContainer:{minHeight:64},avatar:{width:96,height:96},infoHeader:{fontWeight:\"bold\",textTransform:'uppercase',marginTop:15,color:'#C4CAD0'},infoText:{fontSize:'1.05em',color:'#171C34'},orderList:{flexDirection:'row',justifyContent:'space-between',borderBottomWidth:1,borderBottomColor:'#ccc'},well:{borderRadius:4,backgroundColor:'#F1B93D1a',color:'#F1B93D',paddingVertical:8,paddingHorizontal:12,textTransform:'capitalize'},wellComplete:{borderRadius:4,backgroundColor:'#00a8791a',color:'#00a879',paddingVertical:8,paddingHorizontal:12,textTransform:'capitalize'}});","map":{"version":3,"sources":["D:/projects/repo/suplias/components/OrderSummary.js"],"names":["React","useState","useEffect","Text","Icon","Card","Avatar","TabView","Tab","Layout","Button","TextStyleProps","formatDate","unix","date","Date","months","year","getFullYear","month","getMonth","day","getDate","CardHeaderText","styles","cardHeaderText","loadOrder","result","Promise","resolve","reject","setTimeout","require","loadOrderItem","OrderItem","props","orderItem","setOrderItem","then","resp","list","i","data","item","order_id","_id","push","length","orderList","paddingVertical","marginBottom","tag","well","wellComplete","ref","opacity","created","alignSelf","amount","toFixed","replace","Orders","WeeklyOrders","InCart","OrderSummary","tab","setTab","orders","setOrders","weeklyOrder","setWeeklyOrder","cart","setCart","SelectedTab","card","navbar","navTabBtnActive","navTabBtn","tabCounter","StyleSheet","create","marginTop","paddingHorizontal","paddingBottom","flex","flexDirection","justifyContent","borderBottomColor","borderBottomWidth","backgroundColor","borderRadius","marginLeft","color","tabContainer","minHeight","avatar","width","height","infoHeader","fontWeight","textTransform","infoText","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { StyleSheet, View, FlatList, ActivityIndicator } from 'react-native';\r\nimport {\r\n    Text,\r\n    Icon,\r\n    Card,\r\n    Avatar,\r\n    TabView,\r\n    Tab,\r\n    Layout,\r\n    Button\r\n} from '@ui-kitten/components';\r\nimport { TextStyleProps } from '@ui-kitten/components/ui/support/typings';\r\n\r\nconst formatDate = (unix) => {\r\n    let date = new Date(unix * 1000);\r\n    let months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n    let year = date.getFullYear();\r\n    let month = months[date.getMonth()];\r\n    let day = date.getDate();\r\n\r\n    return month + ' ' + day + ', ' + year;\r\n}\r\n\r\nconst CardHeaderText = () => (\r\n    <>\r\n        <Text style={styles.cardHeaderText} category='h5'>Billing Info</Text>\r\n    </>\r\n)\r\n\r\nconst loadOrder = async () => {\r\n    let result = new Promise((resolve, reject) => {\r\n        // CALL TO `FAKE` API\r\n        setTimeout(function () {\r\n            resolve(require('../api-data/order.json'))\r\n        }, 800)\r\n    })\r\n    return await result\r\n}\r\n\r\nconst loadOrderItem = async () => {\r\n    let result = new Promise((resolve, reject) => {\r\n        // CALL TO `FAKE` API\r\n        setTimeout(function () {\r\n            resolve(require('../api-data/order_item.json'))\r\n        }, 800)\r\n    })\r\n    return await result\r\n}\r\n\r\nconst OrderItem = (props) => {\r\n    const [orderItem, setOrderItem] = useState(null)\r\n    \r\n    useEffect(() => {\r\n        loadOrderItem().then(resp => {\r\n            let list = []\r\n            for(var i in resp.data) {\r\n                let item = resp.data[i]\r\n                if (item.order_id === props.data._id) {\r\n                    list.push(resp.data[item])\r\n                }\r\n            }\r\n            if (list.length > 0) { setOrderItem(list) }\r\n        })\r\n        return () => {\r\n            // cleanup\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <View style={styles.orderList}>\r\n            <View style={{paddingVertical: 20}}>\r\n                <Text style={{marginBottom: 10}}>\r\n                    <Text style={props.data.tag === 'pending' ? styles.well : styles.wellComplete }>{props.data.tag}</Text>\r\n                </Text>\r\n                <Text style={{marginBottom: 5}} category='h6'>{'Order #'+props.data.ref}</Text>\r\n                <Text category='h6' style={{opacity: .4}}>{orderItem ? orderItem.length : 0 } Items &middot; {formatDate(props.data.created)}</Text>\r\n            </View>\r\n            <View style={{alignSelf: \"center\"}}>\r\n                <Text category=\"h5\">{'₦'+props.data.amount.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,') }</Text>\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst Orders = (props) => {\r\n    return <>\r\n        {props.data ?\r\n            <FlatList\r\n                data={props.data}\r\n                renderItem={({ item }) => <OrderItem data={item} />}\r\n                keyExtractor={item => item._id}\r\n            /> : <ActivityIndicator size=\"large\" style={{ paddingVertical: 15 }} />\r\n        }\r\n    </>\r\n}\r\nconst WeeklyOrders = (props) => {\r\n    return <>\r\n        {props.data ?\r\n            <Text category='h3' >Weekly Order</Text> : <ActivityIndicator size=\"large\" style={{ paddingVertical: 15 }} />\r\n        }\r\n    </>\r\n}\r\nconst InCart = (props) => {\r\n    return <>\r\n        {props.data ?\r\n            <Text category='h3' >Weekly Order</Text> : <ActivityIndicator size=\"large\" style={{ paddingVertical: 15 }} />\r\n        }\r\n    </>\r\n}\r\n\r\nconst OrderSummary = (props) => {\r\n    const [tab, setTab] = useState(0)\r\n    const [orders, setOrders] = useState(null)\r\n    const [weeklyOrder, setWeeklyOrder] = useState(null)\r\n    const [cart, setCart] = useState(null)\r\n\r\n    const SelectedTab = () => {\r\n        switch (tab) {\r\n            case 1:\r\n                return <WeeklyOrders data={weeklyOrder} />\r\n                break;\r\n            case 2:\r\n                return <InCart data={cart} />\r\n                break;\r\n\r\n            default:\r\n                return <Orders data={orders}/>\r\n                break;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadOrder().then(resp => setOrders(resp.data.data))\r\n        return () => {\r\n            // cleanup\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Card {...TextStyleProps} style={styles.card}>\r\n\r\n                <View><CardHeaderText /></View>\r\n\r\n                <View style={styles.navbar}>\r\n                    <Text style={tab == 0 ? styles.navTabBtnActive : styles.navTabBtn} onPress={() => setTab(0)}>\r\n                        <Text>Orders</Text>\r\n                        <Text style={styles.tabCounter}>{2}</Text>\r\n                    </Text>\r\n                    <Text style={tab == 1 ? styles.navTabBtnActive : styles.navTabBtn} onPress={() => setTab(1)}>\r\n                        <Text>Weekly Order</Text>\r\n                        <Text style={styles.tabCounter}>{3}</Text>\r\n                    </Text>\r\n                    <Text style={tab == 2 ? styles.navTabBtnActive : styles.navTabBtn} onPress={() => setTab(2)}>In Cart</Text>\r\n                </View>\r\n\r\n                <View>\r\n                    <SelectedTab />\r\n                </View>\r\n\r\n            </Card>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OrderSummary;\r\n\r\nconst styles = StyleSheet.create({\r\n    card: {\r\n        marginTop: 30,\r\n        paddingHorizontal: 0\r\n    },\r\n    cardHeaderText: {\r\n        paddingBottom: 10\r\n    },\r\n    navbar: {\r\n        flex: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-evenly',\r\n        borderBottomColor: '#C4CAD0',\r\n        borderBottomWidth: 1,\r\n        marginBottom: 10\r\n    },\r\n    navTabBtn: {\r\n        paddingHorizontal: 10,\r\n        paddingVertical: 15,\r\n        borderBottomColor: 'transparent',\r\n        borderBottomWidth: 3\r\n    },\r\n    navTabBtnActive: {\r\n        paddingHorizontal: 10,\r\n        paddingVertical: 15,\r\n        borderBottomColor: '#3B54EC',\r\n        borderBottomWidth: 3\r\n    },\r\n    tabCounter: {\r\n        backgroundColor: '#EE3939',\r\n        paddingHorizontal: 4,\r\n        paddingVertical: 2,\r\n        borderRadius: 4,\r\n        marginLeft: 2,\r\n        color: '#fff'\r\n    },\r\n    tabContainer: {\r\n        minHeight: 64\r\n    },\r\n    avatar: {\r\n        width: 96,\r\n        height: 96\r\n    },\r\n    infoHeader: {\r\n        fontWeight: \"bold\",\r\n        textTransform: 'uppercase',\r\n        marginTop: 15,\r\n        color: '#C4CAD0'\r\n    },\r\n    infoText: {\r\n        fontSize: '1.05em',\r\n        color: '#171C34'\r\n    },\r\n    orderList: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#ccc',\r\n\r\n    },\r\n    well: {\r\n        borderRadius: 4,\r\n        backgroundColor: '#F1B93D1a',\r\n        color: '#F1B93D',\r\n        paddingVertical: 8,\r\n        paddingHorizontal: 12,\r\n        textTransform: 'capitalize'\r\n    },\r\n    wellComplete: {\r\n        borderRadius: 4,\r\n        backgroundColor: '#00a8791a',\r\n        color: '#00a879',\r\n        paddingVertical: 8,\r\n        paddingHorizontal: 12,\r\n        textTransform: 'capitalize'\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}